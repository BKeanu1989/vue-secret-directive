(function(e,n){typeof exports=="object"&&typeof module<"u"?module.exports=n(require("vue")):typeof define=="function"&&define.amd?define(["vue"],n):(e=typeof globalThis<"u"?globalThis:e||self,e.SecretDirectiveVuepress=n(e.Vue))})(this,function(e){"use strict";const n=e.ref(!1),o=e.ref([]),u=()=>{const c=e.inject("custom-secret-quote","secret"),s=r=>{o.value.push(r)},t=r=>{n.value=r},i=e.watch(o,(r,f)=>{if(r.join("")===c){t(!0);return}r.length>6&&o.value.shift()},{deep:!0});return e.watch(n,(r,f)=>{r&&(console.log("we are done"),Array.from(document.querySelectorAll("[data-v-secret]")).forEach(a=>{a.style.display="block"}),i())}),{secretEntered:n,setSecretEntered:t,addKeysEntered:s}},d=e.defineComponent({__name:"SecretDirective",setup(c){const s=u();return e.onMounted(()=>{document.addEventListener("keyup",t=>{s.addKeysEntered(t.key)})}),(t,i)=>null}}),l={mounted(c,s,t){t.el.dataset.vSecret=!0,t.el.style.display="none"}};return c=>s=>({name:"vue3-secret-directive",onInitialized:t=>{t.provide("custom-secret-quote",c.secret||"secret"),t.directive("c-secret",l),t.component("SecretDirective",d)}})});
