(function(e,r){typeof exports=="object"&&typeof module<"u"?module.exports=r(require("vue")):typeof define=="function"&&define.amd?define(["vue"],r):(e=typeof globalThis<"u"?globalThis:e||self,e.SecretDirective=r(e.Vue))})(this,function(e){"use strict";const r=e.ref(!1),o=e.ref([]),u=()=>{const n=e.inject("custom-secret-quote","secret"),s=c=>{o.value.push(c)},t=c=>{r.value=c},i=e.watch(o,(c,f)=>{if(c.join("")===n){t(!0);return}c.length>6&&o.value.shift()},{deep:!0});return e.watch(r,(c,f)=>{c&&(console.log("we are done"),Array.from(document.querySelectorAll("[data-v-secret]")).forEach(a=>{a.style.display="block"}),i())}),{secretEntered:r,setSecretEntered:t,addKeysEntered:s}},d=e.defineComponent({__name:"SecretDirective",setup(n){const s=u();return e.onMounted(()=>{document.addEventListener("keyup",t=>{s.addKeysEntered(t.key)})}),(t,i)=>null}}),l={mounted(n,s,t){t.el.dataset.vSecret=!0,t.el.style.display="none"}};return{install(n,s){n.provide("custom-secret-quote",s.secret||"secret"),n.directive("c-secret",l),n.component("SecretDirective",d)}}});
